{% extends 'base.html' %}
{% block content %}
    <style>
    .readonly-input {
  background-color: #f2f2f2;
  cursor: not-allowed;
}

    </style>
    <div class="alert alert-success" role="alert">管理认证成功</div>
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title">成员管理</h3>
        </div>
        <div class="panel-body">
            <form class="form-horizontal" action="/edit_member/" method="post">
                {% csrf_token %}
                {#            姓名#}
                            <div class="form-group">
                    <label for="inputSno" class="col-sm-2 control-label">学号</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control readonly-input" id="inputSno" name="student_num"
       value="{{ edit_stu_obj.studentNum }}"
       placeholder="{{ edit_stu_obj.studentNum }}" readonly>

                    </div>
                </div>
                <div class="form-group">
                    <label for="inputName" class="col-sm-2 control-label">姓名</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" name="username" id="inputName"
                               value="{{ edit_stu_obj.username }}"
                               placeholder="{{ edit_stu_obj.username }}">
                    </div>
                </div>
                {#            Email#}
                <div class="form-group">
                    <label for="inputEmail" class="col-sm-2 control-label">Email</label>
                    <div class="col-sm-8">
                        <input type="email" class="form-control" name="email" id="inputEmail"
                               value="{{ edit_stu_obj.email }}"
                               placeholder="{{ edit_stu_obj.email }}">
                    </div>
                </div>
                <div class="form-group">
                    <label for="password" class="col-sm-2 control-label">密码</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" name="password"
                               value="{{ edit_stu_obj.password }}" id="password" >
                    </div>
                </div>

                <div class="form-group">
                    <label for="selectClass" class="col-sm-2 control-label">班级</label>
                    <div class="col-sm-8">
                        <select class="form-control" id="selectClass" name="cls">
                            {% for cls in cls_list %}
                                {% if cls.name == edit_stu_obj.cid.name %}
                                    <option value="{{ cls.name }}" selected>{{ cls.name }}</option>
                                {% else %}
                                    <option value="{{ cls.name }}">{{ cls.name }}</option>
                                {% endif %}

                            {% endfor %}
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="selectType" class="col-sm-2 control-label">用户类型</label>
                    <div class="col-sm-8">
                        <select class="form-control" id="selectClass" name="user_type">
                            {% for type in stu_type_list %}
                                {% if type.caption == edit_stu_obj.user_type.caption %}
                                    <option value="{{ type.caption }}" selected>{{ type.caption }}</option>
                                {% else %}
                                    <option value="{{ type.caption }}">{{ type.caption }}</option>
                                {% endif %}

                            {% endfor %}
                        </select>
                    </div>
                </div>
                {#            性别#}
                <div class="form-group">
                    <label for="gender" class="col-sm-2 control-label">性别</label>
                    <div class="col-sm-8">
                        <label class="radio-inline">
                            <input type="radio" name="gender" id="gender" value="1" checked> 男
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="gender" id="gender" value="0"> 女
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="inputName" class="col-sm-2 control-label">联系方式</label>
                    <div class="col-sm-8">
                        <input type="text" name="phone" class="form-control" id="inputName"
                               value="{{ edit_stu_obj.phone }}"
                               placeholder="{{ edit_stu_obj.phone }}">
                    </div>
                </div>


                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-8">
                        <button type="submit" class="btn btn-danger" onclick="confirmAction(event) "
                                style="margin-left: 150px">确定
                        </button>
                        <a class="btn btn-primary" href="/memberManage/" style="margin-left: 50px">返回</a>


                    </div>
                </div>

                <script>
                    function confirmAction(event) {
                        event.preventDefault(); // 阻止默认的表单提交行为

                        if (confirm("确认执行操作吗？")) {
                            // 执行操作
                            event.target.closest('form').submit(); // 提交表单
                        } else {
                            // 取消操作
                        }
                    }

                </script>


            </form>

        </div>
    </div>



{% endblock content %}

{% block sidebar %}
    9
{% endblock sidebar %}